{"version":3,"file":"API-338b94c4.js","sources":["../../src/img/sptite.svg","../../src/API.js"],"sourcesContent":["export default \"__VITE_ASSET__a34c4524__\"","import axios from 'axios';\n\nexport async function fetchCategories() {\n  const url = 'https://food-boutique.b.goit.study/api/products/categories';\n  try {\n    const res = await axios.get(url);\n    return res.data;\n  } catch (error) {\n    console.error('Помилка під час запиту:', error);\n    return [];\n  }\n}\n\nexport async function fetchData({ keyword, category, page, limit }) {\n  const url = 'https://food-boutique.b.goit.study/api/products';\n\n  const response = await axios.get(url, {\n    params: { keyword, category, page, limit },\n  });\n  return response.data;\n}\n\n//Для примера вида параметра, который будет приходить в fetchData\n// const params = {\n//   keyword: 'Ac',\n//   category: 'Fresh_Produce',\n//   page: 1,\n//   limit: 1,\n// };\n\n// fetchData(params);\nexport async function popularProdact() {\n  const url = 'https://food-boutique.b.goit.study/api/products/popular';\n  const res = await axios.get(url);\n  return res.data;\n}\n\nexport async function discountProduct() {\n  const url = 'https://food-boutique.b.goit.study/api/products/discount';\n  const res = await axios.get(url);\n  return res.data;\n}\n\nexport async function findProductCard(id) {\n  const url = `https://food-boutique.b.goit.study/api/products/${id}`;\n  const res = await axios.get(url);\n  return res.data;\n}\n\nexport async function postSubscribe(email) {\n  const url = 'https://food-boutique.b.goit.study/api/subscription';\n  const emailData = {\n    email: email,\n  };\n  try {\n    const res = await axios.post(url, emailData);\n    return {\n      success: true,\n      data: res.data,\n    };\n  } catch (error) {\n    if (error.response && error.response.status === 409) {      \n      return {\n        success: false,\n        status: 409,\n        message: 'Email already subscribed',\n      };\n    } else {      \n      console.error('Произошла ошибка при отправке:', error);\n      return {\n        success: false,\n        status: error.response ? error.response.status : null,\n        message: 'Oops! Something went wrong',\n      };\n    }\n  }\n}\n\n\nexport async function postOrders({ email, products }) {\n  const url = 'https://food-boutique.b.goit.study/api/orders';\n  const order = {\n    email: email,\n    products: products,\n  };\n  try {\n    const res = await axios.post(url, order);\n    // alert(res.data.message);\n    // console.log(res.data);\n    return res.data;\n  } catch (error) {\n    alert('Oops! Something went wrong');\n    console.error('Произошла ошибка при отправке:', error);\n    throw error;\n  }\n}\n//То что должно прилететь как параметр в postOrder\n// const orderData = {\n//   email: 'examp@email5799.com',\n//   products: [\n//     { productId: \"640c2dd963a319ea671e383b\",\n//      amount: 2 }\n//   ]\n// };\n"],"names":["cartIcon","fetchCategories","url","axios","error","fetchData","keyword","category","page","limit","popularProdact","discountProduct","postSubscribe","email","emailData","postOrders","products","order"],"mappings":"0uBAAA,MAAeA,EAAA,qDCER,eAAeC,GAAkB,CACtC,MAAMC,EAAM,6DACZ,GAAI,CAEF,OADY,MAAMC,EAAM,IAAID,CAAG,GACpB,IACZ,OAAQE,EAAP,CACA,eAAQ,MAAM,0BAA2BA,CAAK,EACvC,EACR,CACH,CAEO,eAAeC,EAAU,CAAE,QAAAC,EAAS,SAAAC,EAAU,KAAAC,EAAM,MAAAC,CAAK,EAAI,CAClE,MAAMP,EAAM,kDAKZ,OAHiB,MAAMC,EAAM,IAAID,EAAK,CACpC,OAAQ,CAAE,QAAAI,EAAS,SAAAC,EAAU,KAAAC,EAAM,MAAAC,CAAO,CAC9C,CAAG,GACe,IAClB,CAWO,eAAeC,GAAiB,CACrC,MAAMR,EAAM,0DAEZ,OADY,MAAMC,EAAM,IAAID,CAAG,GACpB,IACb,CAEO,eAAeS,GAAkB,CACtC,MAAMT,EAAM,2DAEZ,OADY,MAAMC,EAAM,IAAID,CAAG,GACpB,IACb,CAQO,eAAeU,EAAcC,EAAO,CACzC,MAAMX,EAAM,sDACNY,EAAY,CAChB,MAAOD,CACX,EACE,GAAI,CAEF,MAAO,CACL,QAAS,GACT,MAHU,MAAMV,EAAM,KAAKD,EAAKY,CAAS,GAG/B,IAChB,CACG,OAAQV,EAAP,CACA,OAAIA,EAAM,UAAYA,EAAM,SAAS,SAAW,IACvC,CACL,QAAS,GACT,OAAQ,IACR,QAAS,0BACjB,GAEM,QAAQ,MAAM,iCAAkCA,CAAK,EAC9C,CACL,QAAS,GACT,OAAQA,EAAM,SAAWA,EAAM,SAAS,OAAS,KACjD,QAAS,4BACjB,EAEG,CACH,CAGO,eAAeW,EAAW,CAAE,MAAAF,EAAO,SAAAG,GAAY,CACpD,MAAMd,EAAM,gDACNe,EAAQ,CACZ,MAAOJ,EACP,SAAUG,CACd,EACE,GAAI,CAIF,OAHY,MAAMb,EAAM,KAAKD,EAAKe,CAAK,GAG5B,IACZ,OAAQb,EAAP,CACA,YAAM,4BAA4B,EAClC,QAAQ,MAAM,iCAAkCA,CAAK,EAC/CA,CACP,CACH"}