{"version":3,"file":"commonHelpers2.js","sources":["../src/API.js","../src/js/filters.js","../src/js/products-list.js","../src/local-storage.js","../src/refs.js","../src/js/popular-products.js","../src/js/modalproductcard.js","../src/main.js"],"sourcesContent":["import axios from 'axios'\n\n\n\n\nexport async function fetchCategories() {\n    const url = 'https://food-boutique.b.goit.study/api/products/categories';\n    try {\n      const res = await axios.get(url);\n      return res.data;\n    } catch (error) {\n      console.error('Помилка під час запиту:', error);\n      return [];\n    }\n  }\n\n \n\n  export async function fetchData({ keyword, category, page, limit }) {\n  const url = 'https://food-boutique.b.goit.study/api/products';\n \n    const response = await axios.get(url, {\n      params: { keyword, category, page, limit },\n    }); \n    return response.data; \n}\n\n//Для примера вида параметра, который будет приходить в fetchData\n// const params = {\n//   keyword: 'Ac',\n//   category: 'Fresh_Produce',\n//   page: 1,\n//   limit: 1,\n// };\n\n// fetchData(params);\nexport async function popularProdact() {\n  const url = 'https://food-boutique.b.goit.study/api/products/popular';\n      const res = await axios.get(url);\n    return res.data;  \n}\n\nexport async function discountProduct() {\n  const url = 'https://food-boutique.b.goit.study/api/products/discount';  \n    const res = await axios.get(url);\n    return res.data;   \n}\n\nexport async function findProductCard(id) {\n  const url = `https://food-boutique.b.goit.study/api/products/${id}`;\n  const res = await axios.get(url);\n  return res.data;\n  }\n\n\n\nexport async function postSubscribe(email){\n  const url='https://food-boutique.b.goit.study/api/subscription';\n  const emailData ={\n    email:email\n  };\n  try {\n    const res = await axios.post(url,emailData);\n  alert(res.data.message);\n  console.log(res.data);\n  return res.data; \n}  catch(error){    \n      alert('Oops! Something went wrong');\n      console.error('Произошла ошибка при отправке:', error);\n      throw error;     \n  }\n}\n\n\nexport async function postOrders({email, products}){\n  const url='https://food-boutique.b.goit.study/api/orders';\n  const order ={\n    email:email,\n    products:products\n  };\n  try {\n    const res = await axios.post(url,order);\n  alert(res.data.message);\n  console.log(res.data);\n  return res.data; \n}  catch(error){    \n      alert('Oops! Something went wrong');\n      console.error('Произошла ошибка при отправке:', error);\n      throw error;     \n  }\n}\n//То что должно прилететь как параметр в postOrder\n// const orderData = {\n//   email: 'examp@email5799.com',\n//   products: [\n//     { productId: \"640c2dd963a319ea671e383b\",\n//      amount: 2 }   \n//   ]\n// };\n\n\n\n \n\n","import SlimSelect from 'slim-select';\nimport '../../node_modules/slim-select/dist/slimselect.css';\nimport { fetchCategories, fetchData } from '../API';\n\nconst searchForm = document.querySelector('.filters-form');\nconst searchInput = document.querySelector('.filters-form-input');\nconst categorySelect = document.querySelector('.filters-form-select-category');\n\nconst createCategoryMarkup = arrey => {\n  return arrey\n    .map(\n      category =>\n        `<option value=\"${category.trim()}\">${category\n          .replace('_', ' ')\n          .replace('_', ' ')}</option>`\n    )\n    .join('');\n};\n\nlet categories = [];\n\nconst renderSelects = async () => {\n  const data = await fetchCategories();\n  categories = [...data];\n  const markup = createCategoryMarkup(categories);\n  categorySelect.insertAdjacentHTML('beforeend', markup);\n\n  new SlimSelect({\n    select: '#category',\n    settings: {\n      showSearch: false,\n    },\n  });\n};\n\nrenderSelects();\n\nconst renderProducts = async query => {\n  const data = await fetchData(query);\n  console.log(data.results);\n};\n\nconst onForm = event => {\n  event.preventDefault();\n  const currentValue = searchInput.value.trim();\n  const currentCategory = categorySelect.value;\n  const query = { \n    keyword: currentValue || null, \n    category: currentCategory === 'Show all' ? null : currentCategory.trim() || null };\n  localStorage.setItem('LS_QUERY_KEY', JSON.stringify(query));\n  renderProducts(query);\n};\n\nconst onSearchField = event => {\n  if (event.target.value === '') {\n    const currentCategory = categorySelect.value;\n    const query = { \n      keyword: null, \n      category: currentCategory === 'Show all' ? null : currentCategory.trim() || null };\n    localStorage.setItem('LS_QUERY_KEY', JSON.stringify(query));\n    renderProducts(query);\n  }\n};\n\nconst onCategoryField = event => {\n  const currentValue = searchInput.value.trim();\n  const currentCategory = event.target.value;\n  const query = { \n    keyword: currentValue || null, \n    category: currentCategory.trim() || null };\n  localStorage.setItem('LS_QUERY_KEY', JSON.stringify(query));\n  renderProducts(query);\n};\n\nwindow.addEventListener('load', () => {\n  const savedFilters = JSON.parse(localStorage.getItem('LS_QUERY_KEY')) || { keyword: null, category: null };\n  searchInput.value = savedFilters.keyword;\n  categorySelect.value = savedFilters.category;\n\n  renderProducts(savedFilters);\n\n  searchForm.addEventListener('submit', onForm);\n  categorySelect.addEventListener('change', onCategoryField);\n  searchInput.addEventListener('input', onSearchField);\n});","import sprite from '../img/sptite.svg';\nimport { fetchData } from '../API.js';\nconst container = document.querySelector('.products-list');\nconst noProducts = document.querySelector('.products-list-none');\nlet limit = 6;\n\nconst defaultParams = {\n  keyword: null,\n  category: null,\n  page: 1,\n  limit: 6,\n};\nwindow.addEventListener('resize', windowChange);\n\nfunction limitChange(obj) {\n  if (window.innerWidth < 768) {\n    obj.limit = 6;\n  } else if (window.innerWidth >= 768 && window.innerWidth < 1440) {\n    obj.limit = 8;\n  } else {\n    obj.limit = 9;\n  }\n  return obj;\n}\n\nexport async function productsGeneretor() {\n  if (localStorage.getItem('settings')) {\n    return await render(JSON.parse(localStorage.getItem('settings')));\n  }\n  return await render(defaultParams);\n}\n\nasync function render(params) {\n  try {\n    params = limitChange(params);\n    const settings = JSON.parse(localStorage.getItem('settings'));\n    settings.limit = params.limit;\n    localStorage.setItem('settings', JSON.stringify(settings));\n\n    const data = await fetchData(params);\n\n    if (data.results.length === 0) {\n      noProducts.classList.remove('hidden');\n      container.classList.add('hidden');\n    } else {\n      if (container.classList.contains('hidden')) {\n        noProducts.classList.add('hidden');\n        container.classList.remove('hidden');\n      }\n      container.innerHTML = createCardMarkup(data.results);\n    }\n  } catch (error) {\n    console.log(error.message);\n  }\n}\nfunction windowChange() {\n  const settings = JSON.parse(localStorage.getItem('settings'));\n\n  if (\n    (window.innerWidth < 768 && settings.limit === 6) ||\n    (window.innerWidth >= 768 &&\n      window.innerWidth < 1440 &&\n      settings.limit === 8) ||\n    (window.innerWidth >= 1440 && settings.limit === 9)\n  ) {\n    return;\n  } else {\n    console.log(`windowChange ${limit}`);\n    productsGeneretor();\n  }\n}\n\nfunction createCardMarkup(arr) {\n  return arr\n    .map(\n      ({\n        name,\n        img,\n        category,\n        size,\n        popularity,\n        price,\n        is10PercentOff: discount,\n        _id,\n      }) => {\n        if (category.includes('_')) {\n          category = category.split('_').join(' ');\n        }\n\n        return `\n    <div class=\"productlist-card\" data-id=\"${_id}\">\n    <div class=\"productlist-card-img-wrapper\">\n        <img src=\"${img}\" alt=\"${name}\" class=\"productlist-card-img\" width=\"140\">\n    </div>\n    <h3 class=\"productlist-card-header\">${name}</h3>\n    <div class=\"productlist-card-text-wrapper\">\n        <p class=\"productlist-card-text\">\n          Category: <span class=\"productlist-card-text-span\">${category}</span>\n        </p>\n        <p class=\"productlist-card-text\">\n          Size: <span class=\"productlist-card-text-span\">${size}</span>\n        </p>\n        <p class=\"productlist-card-text\">\n          Popularity: <span class=\"productlist-card-text-span\">${popularity}</span>\n        </p>\n    </div>\n\n    <div class=\"productlist-card-bottom\">\n        <span class=\"productlist-card-price\">$${price}</span>\n        <button type=\"button\" class=\"productlist-card-btn\">\n            <svg class=\"productlist-card-icon-cart\" width=\"18\" height=\"18\">\n                <use href=\"${sprite}#icon-cart\"></use>\n            </svg></button>\n    </div>\n    ${\n      discount\n        ? `<svg class=\"productlist-dicount\" width=\"60\" height=\"60\">\n      <use href=\"${sprite}#icon-discount\"></use>\n    </svg>`\n        : ``\n    }\n</div>\n  `;\n      }\n    )\n    .join('');\n}\n\nwindow.addEventListener('load', updateHeaderCartText);\ncontainer.addEventListener('click', handleProductClick);\n\n// Функція для обробки кліку на картці товару\nfunction handleProductClick(event) {\n  const target = event.target;\n  const addToCartButton = target.closest('.productlist-card-btn');\n\n  if (addToCartButton) {\n    const productCard = addToCartButton.closest('.productlist-card');\n    const productId = productCard.dataset.id;\n\n    // Отримуємо інформацію про товар для зберігання в localStorage\n    const productInfo = {\n      id: productId,\n      name: productCard.querySelector('.productlist-card-header').textContent,\n      price: productCard.querySelector('.productlist-card-price').textContent,\n      category: productCard.dataset.category,\n      img: productCard.querySelector('.productlist-card-img').src,\n      size: productCard.dataset.size,\n    };\n    addToCart(productInfo, addToCartButton);\n  }\n}\n\n// Функція для додавання товару в кошик\nfunction addToCart(productInfo, button) {\n  let cartItems = JSON.parse(localStorage.getItem('cart')) || [];\n  const existingProduct = cartItems.find(item => item.id === productInfo.id);\n\n  if (existingProduct) {\n    // Змінюємо іконку на кнопці\n    const useElement = button.querySelector('.productlist-card-icon-cart use');\n    useElement.setAttribute(\n      'style',\n      'stroke: var(--background); fill: var(--p_color);'\n    );\n    useElement.setAttribute('href', `${sprite}#icon-check`);\n  } else {\n    // Якщо товар ще не доданий в кошик, додаємо його та оновлюємо localStorage\n    cartItems.push(productInfo);\n    localStorage.setItem('cart', JSON.stringify(cartItems));\n    console.log('Товар доданий в кошик!');\n  }\n  updateHeaderCartText();\n}\nfunction updateHeaderCartText() {\n  const cartItems = JSON.parse(localStorage.getItem('cart')) || [];\n  const headerSpan = document.querySelector('.js-header-span');\n\n  if (headerSpan) {\n    headerSpan.textContent = cartItems.length;\n  }\n}\n","const basedParameters = {\n  keyword: null,\n  category: null,\n  page: 1,\n  limit: 6,\n};\n\nconst cart = [];\n\nexport function localStorageSettings() {\n  localStorage.setItem('settings', JSON.stringify(basedParameters));\n}\nexport function localStorageCart() {\n  localStorage.setItem('cart', JSON.stringify(cart));\n}\n","export const popular_products_ul = document.querySelector(\n  '.wrapperPopularProduct'\n);\nexport const body = document.querySelector('body');\n","import { popularProdact } from '../API.js';\nimport { popular_products_ul } from '../refs';\nimport cartIcon from '../img/sptite.svg';\n\ndocument.addEventListener('DOMContentLoaded', onReload);\nasync function onReload() {\n  try {\n    const markup = await generatePopularCardListMarkup();\n    if (markup === undefined) throw new Error();\n\n    updateCardList(markup);\n  } catch (err) {\n    onError(err);\n  }\n}\n\nfunction renderCards({ category, img, name, popularity, size, _id }) {\n  return `\n  <li data-id='${_id}' class=\"popular__products-items  \">\n  <div class=\"img-box\">\n    <img\n      class=\"popular__products-img\"\n      src=\"${img}\"\n      alt=\"${name}\"\n    />\n  </div>\n  <div class=\"info-box\">\n    <h3 class=\"popular__products-name\">${name}</h3>\n    <p class=\"popular__products-text\">\n      Category:\n      <span class=\"js-popular__products-category\">${category}</span>\n    </p>\n    <div class=\"add-ifo-box\">\n      <p class=\"popular__products-text\">\n        Size: <span class=\"js-popular__products-size\">${size}</span>\n      </p>\n      <p class=\"popular__products-text\">\n        Popularity:\n        <span class=\"js-popular__products-popularity\">${popularity}</span>\n      </p>\n    </div>\n  </div>\n  <button class=\"popular__products-button\">\n    <svg class=\"popular__products-svg\" width=\"12\" height=\"12\">\n      <use href=\"${cartIcon}#icon-cart\"></use>\n    </svg>\n  </button>\n</li>\n  `;\n}\n\nasync function generatePopularCardListMarkup() {\n  try {\n    const popularCards = await popularProdact();\n    // console.log(popularCards);\n    return popularCards.reduce(\n      (markup, productCard) => markup + renderCards(productCard),\n      ''\n    );\n  } catch (err) {\n    onError(err);\n  }\n}\n\nfunction updateCardList(markup) {\n  popular_products_ul.insertAdjacentHTML('beforeend', markup);\n}\n\nfunction onError() {\n  console.error('Error:', err);\n  popular_products_ul.innerHTML = '';\n}\n","import axios from 'axios';\nimport cartIcon from '../img/sptite.svg';\n// import { handleModal } from \"./modal\";\nconst ul = document.querySelector('.wrapperPopularProduct');\nconsole.log(ul);\nconst body = document.querySelector('body');\nul.addEventListener('click', handleCardClick);\n\nconst list = document.querySelector('.products-list');\nconsole.log(list);\nlist.addEventListener('click', handleCardProductClick);\n\nasync function handleCardProductClick(event) {\n  list.removeEventListener('click', handleCardProductClick);\n\n  const product = event.target.closest('.productlist-card');\n\n  if (product === null || event.target.closest('.productlist-card-btn')) {\n    list.addEventListener('click', handleCardProductClick);\n    return;\n  }\n  console.log(product);\n  // delete later for button\n\n  const id = product.dataset.id;\n\n  const info = await serviceProductInfo(id);\n  console.log(info);\n\n  body.insertAdjacentHTML('beforeend', createMarkup(info));\n\n  handleProductModal();\n}\n\nasync function handleCardClick(event) {\n  ul.removeEventListener('click', handleCardClick);\n  const product = event.target.closest('li');\n  if (product === null || event.target.closest('.popular__products-button')) {\n    ul.addEventListener('click', handleCardClick);\n    return;\n  }\n  // delete later for button\n  // delete if click is not li\n  const id = product.dataset.id;\n\n  const info = await serviceProductInfo(id);\n  console.log(info);\n\n  body.insertAdjacentHTML('beforeend', createMarkup(info));\n\n  handleProductModal();\n}\n\nasync function serviceProductInfo(id) {\n  const BASE_URL = 'https://food-boutique.b.goit.study/api/products/';\n\n  return axios\n    .get(`${BASE_URL}${id}`)\n    .then(resp => {\n      return resp.data;\n    })\n    .catch(error => {\n      throw new Error(error);\n    });\n}\n\nfunction createMarkup(info) {\n  const { name, category, size, popularity, desc, price, img } = info;\n  return `\n    <div class=\"backdrop\" data-modal>\n  <div class=\"modal-container modal-product\" data-modal\">\n    <svg\n      class=\"modal-product-close-icon\"\n      width=\"22\"\n      height=\"22\"\n      data-modal-close\n    >\n      <use href=\"${cartIcon}#icon-close\"></use>\n    </svg>\n    <div class=\"modal-product-img-text\">\n      <div class=\"modal-product-container-img\">\n        <img\n          class=\"modal-product-img\"\n          src=\"${img}\"\n          alt=\"${name}\"\n          width=\"160\"\n          height=\"160\"\n        />\n      </div>\n      <div class=\"modal-product-text\">\n        <p class=\"modal-product modal-product-name\">${name}</p>\n        <div class=\"modal-container-descs\">\n          <p class=\"modal-product modal-product-desc\">\n            Category:\n            <span class=\"modal-product-desc modal-product-desc-value\"\n              >${category}</span\n            >\n          </p>\n\n          <p class=\"modal-product modal-product-desc\">\n            Size:\n            <span class=\"modal-product-desc modal-product-desc-value\"\n              >${size}</span\n            >\n          </p>\n\n          <p class=\"modal-product modal-product-desc\">\n            Popularity:\n            <span class=\"modal-product-desc modal-product-desc-value\">${popularity}</span>\n          </p>\n        </div>\n\n        <p class=\"modal-product-description\" style=\"overflow-y:auto; max-height: 200px\">\n         ${desc}\n\n        </p>\n      </div>\n    </div>\n\n    <div class=\"container-cost-button\">\n      <p class=\"modal-product-cost\">$${price}</p>\n      <button class=\"modal-wimdow-add-to-cart-btn\">\n        Add to\n        <svg class=\"modal-product-addtocart\" width=\"18\" height=\"18\">\n          <use href=\"${cartIcon}#icon-cart\"></use>\n        </svg>\n      </button>\n    </div>\n  </div>\n</div>\n    \n    `;\n}\n\n// function handleProductModal() {\n//   const closeModalBtn = document.querySelector('[data-modal-close]');\n//   const modal = document.querySelector('[data-modal]');\n//   const backdrop = document.querySelector('.backdrop');\n//    function toggleModal() {\n//       console.log('!!!!!!!');\n//      modal.remove();\n//       //  modal.parentElement.removeChild(modal);\n//       // document.removeEventListener('keydown', handleKey);\n//       closeModalBtn.removeEventListener('click', toggleModal);\n//     }\n//   closeModalBtn.addEventListener('click', toggleModal);\n//   backdrop.addEventListener('click', handleBackdrop);\n//   function handleBackdrop(event) {\n//     if (event.target !== backdrop) {\n//       return;\n//     }\n//     toggleModal();\n//     backdrop.removeEventListener('click', handleBackdrop);\n//   }\n//   document.addEventListener('keydown', handleKey);\n\n//   function handleKey(event) {\n//     if (event.code === 'Escape') {\n//       toggleModal();\n//             document.removeEventListener('keydown', handleKey);\n//     }\n\n//     ul.addEventListener('click', handleCardClick);\n//     list.addEventListener('click', handleCardProductClick);\n//     // list.addEventListener(\"click\", handleCardPopularClick);\n//   }\n// }\n\n// function showLoader(span) {\n//   span.style.visibility = 'visible';\n// }\n\n// function hideLoader(span) {\n//   span.style.display = 'none';\n// }\n\nfunction handleProductModal() {\n  const closeModalBtn = document.querySelector('[data-modal-close]');\n  const backdrop = document.querySelector('.backdrop');\n\n  function toggleModal() {\n    const modal = document.querySelector('[data-modal]');\n    if (modal) {\n      modal.remove();\n      closeModalBtn.removeEventListener('click', toggleModal);\n      document.removeEventListener('keydown', handleKey);\n      backdrop.removeEventListener('click', handleBackdrop);\n    }\n  }\n\n  function handleBackdrop(event) {\n    if (event.target !== backdrop) {\n      return;\n    }\n    toggleModal();\n    backdrop.removeEventListener('click', handleBackdrop);\n  }\n\n  function handleKey(event) {\n    if (event.code === 'Escape') {\n      toggleModal();\n      document.removeEventListener('keydown', handleKey);\n    }\n  }\n  ul.addEventListener('click', handleCardClick);\n  list.addEventListener('click', handleCardProductClick);\n\n  closeModalBtn.addEventListener('click', toggleModal);\n  backdrop.addEventListener('click', handleBackdrop);\n  document.addEventListener('keydown', handleKey);\n\n  // Prevent attaching multiple listeners to the same modal\n  if (!document.querySelector('[data-modal]')) {\n    body.insertAdjacentHTML('beforeend', createMarkup(info));\n  }\n}\n","// Запуск сайту та ініціалізація localStorage\nimport { localStorageSettings, localStorageCart } from './local-storage.js';\nlocalStorageSettings();\nlocalStorageCart();\n\n// Відмалювання карток прокутів products-list;\nimport { productsGeneretor } from './js/products-list.js';\nproductsGeneretor();\nimport './js/popular-products.js';\nimport './js/modalproductcard.js';\nimport './js/modal.js';\n"],"names":["fetchCategories","url","axios","error","fetchData","keyword","category","page","limit","popularProdact","searchForm","searchInput","categorySelect","createCategoryMarkup","arrey","categories","renderSelects","markup","SlimSelect","renderProducts","query","data","onForm","event","currentValue","currentCategory","onSearchField","onCategoryField","savedFilters","container","noProducts","defaultParams","windowChange","limitChange","obj","productsGeneretor","render","params","settings","createCardMarkup","arr","name","img","size","popularity","price","discount","_id","sprite","updateHeaderCartText","handleProductClick","addToCartButton","productCard","productInfo","addToCart","button","cartItems","item","useElement","headerSpan","basedParameters","cart","localStorageSettings","localStorageCart","popular_products_ul","onReload","generatePopularCardListMarkup","updateCardList","onError","renderCards","cartIcon","ul","body","handleCardClick","list","handleCardProductClick","product","id","info","serviceProductInfo","createMarkup","handleProductModal","BASE_URL","resp","desc","closeModalBtn","backdrop","toggleModal","modal","handleKey","handleBackdrop"],"mappings":"uGAKO,eAAeA,GAAkB,CACpC,MAAMC,EAAM,6DACZ,GAAI,CAEF,OADY,MAAMC,EAAM,IAAID,CAAG,GACpB,IACZ,OAAQE,EAAP,CACA,eAAQ,MAAM,0BAA2BA,CAAK,EACvC,EACR,CACF,CAIM,eAAeC,EAAU,CAAE,QAAAC,EAAS,SAAAC,EAAU,KAAAC,EAAM,MAAAC,CAAK,EAAI,CACpE,MAAMP,EAAM,kDAKV,OAHiB,MAAMC,EAAM,IAAID,EAAK,CACpC,OAAQ,CAAE,QAAAI,EAAS,SAAAC,EAAU,KAAAC,EAAM,MAAAC,CAAO,CAChD,CAAK,GACe,IACpB,CAWO,eAAeC,GAAiB,CACrC,MAAMR,EAAM,0DAEV,OADc,MAAMC,EAAM,IAAID,CAAG,GACtB,IACf,CCpCA,MAAMS,EAAa,SAAS,cAAc,eAAe,EACnDC,EAAc,SAAS,cAAc,qBAAqB,EAC1DC,EAAiB,SAAS,cAAc,+BAA+B,EAEvEC,EAAuBC,GACpBA,EACJ,IACCR,GACE,kBAAkBA,EAAS,KAAM,MAAKA,EACnC,QAAQ,IAAK,GAAG,EAChB,QAAQ,IAAK,GAAG,YACtB,EACA,KAAK,EAAE,EAGZ,IAAIS,EAAa,CAAA,EAEjB,MAAMC,EAAgB,SAAY,CAEhCD,EAAa,CAAC,GADD,MAAMf,GACE,EACrB,MAAMiB,EAASJ,EAAqBE,CAAU,EAC9CH,EAAe,mBAAmB,YAAaK,CAAM,EAErD,IAAIC,EAAW,CACb,OAAQ,YACR,SAAU,CACR,WAAY,EACb,CACL,CAAG,CACH,EAEAF,IAEA,MAAMG,EAAiB,MAAMC,GAAS,CACpC,MAAMC,EAAO,MAAMjB,EAAUgB,CAAK,EAClC,QAAQ,IAAIC,EAAK,OAAO,CAC1B,EAEMC,EAASC,GAAS,CACtBA,EAAM,eAAc,EACpB,MAAMC,EAAeb,EAAY,MAAM,KAAI,EACrCc,EAAkBb,EAAe,MACjCQ,EAAQ,CACZ,QAASI,GAAgB,KACzB,SAAUC,IAAoB,WAAa,KAAOA,EAAgB,KAAI,GAAM,MAC9E,aAAa,QAAQ,eAAgB,KAAK,UAAUL,CAAK,CAAC,EAC1DD,EAAeC,CAAK,CACtB,EAEMM,EAAgBH,GAAS,CAC7B,GAAIA,EAAM,OAAO,QAAU,GAAI,CAC7B,MAAME,EAAkBb,EAAe,MACjCQ,EAAQ,CACZ,QAAS,KACT,SAAUK,IAAoB,WAAa,KAAOA,EAAgB,KAAI,GAAM,MAC9E,aAAa,QAAQ,eAAgB,KAAK,UAAUL,CAAK,CAAC,EAC1DD,EAAeC,CAAK,CACrB,CACH,EAEMO,EAAkBJ,GAAS,CAC/B,MAAMC,EAAeb,EAAY,MAAM,KAAI,EACrCc,EAAkBF,EAAM,OAAO,MAC/BH,EAAQ,CACZ,QAASI,GAAgB,KACzB,SAAUC,EAAgB,KAAM,GAAI,IAAI,EAC1C,aAAa,QAAQ,eAAgB,KAAK,UAAUL,CAAK,CAAC,EAC1DD,EAAeC,CAAK,CACtB,EAEA,OAAO,iBAAiB,OAAQ,IAAM,CACpC,MAAMQ,EAAe,KAAK,MAAM,aAAa,QAAQ,cAAc,CAAC,GAAK,CAAE,QAAS,KAAM,SAAU,IAAI,EACxGjB,EAAY,MAAQiB,EAAa,QACjChB,EAAe,MAAQgB,EAAa,SAEpCT,EAAeS,CAAY,EAE3BlB,EAAW,iBAAiB,SAAUY,CAAM,EAC5CV,EAAe,iBAAiB,SAAUe,CAAe,EACzDhB,EAAY,iBAAiB,QAASe,CAAa,CACrD,CAAC,EClFD,MAAMG,EAAY,SAAS,cAAc,gBAAgB,EACnDC,EAAa,SAAS,cAAc,qBAAqB,EAC/D,IAAItB,EAAQ,EAEZ,MAAMuB,EAAgB,CACpB,QAAS,KACT,SAAU,KACV,KAAM,EACN,MAAO,CACT,EACA,OAAO,iBAAiB,SAAUC,CAAY,EAE9C,SAASC,EAAYC,EAAK,CACxB,OAAI,OAAO,WAAa,IACtBA,EAAI,MAAQ,EACH,OAAO,YAAc,KAAO,OAAO,WAAa,KACzDA,EAAI,MAAQ,EAEZA,EAAI,MAAQ,EAEPA,CACT,CAEO,eAAeC,GAAoB,CACxC,OAAI,aAAa,QAAQ,UAAU,EAC1B,MAAMC,EAAO,KAAK,MAAM,aAAa,QAAQ,UAAU,CAAC,CAAC,EAE3D,MAAMA,EAAOL,CAAa,CACnC,CAEA,eAAeK,EAAOC,EAAQ,CAC5B,GAAI,CACFA,EAASJ,EAAYI,CAAM,EAC3B,MAAMC,EAAW,KAAK,MAAM,aAAa,QAAQ,UAAU,CAAC,EAC5DA,EAAS,MAAQD,EAAO,MACxB,aAAa,QAAQ,WAAY,KAAK,UAAUC,CAAQ,CAAC,EAEzD,MAAMjB,EAAO,MAAMjB,EAAUiC,CAAM,EAE/BhB,EAAK,QAAQ,SAAW,GAC1BS,EAAW,UAAU,OAAO,QAAQ,EACpCD,EAAU,UAAU,IAAI,QAAQ,IAE5BA,EAAU,UAAU,SAAS,QAAQ,IACvCC,EAAW,UAAU,IAAI,QAAQ,EACjCD,EAAU,UAAU,OAAO,QAAQ,GAErCA,EAAU,UAAYU,EAAiBlB,EAAK,OAAO,EAEtD,OAAQlB,EAAP,CACA,QAAQ,IAAIA,EAAM,OAAO,CAC1B,CACH,CACA,SAAS6B,GAAe,CACtB,MAAMM,EAAW,KAAK,MAAM,aAAa,QAAQ,UAAU,CAAC,EAGzD,OAAO,WAAa,KAAOA,EAAS,QAAU,GAC9C,OAAO,YAAc,KACpB,OAAO,WAAa,MACpBA,EAAS,QAAU,GACpB,OAAO,YAAc,MAAQA,EAAS,QAAU,IAIjD,QAAQ,IAAI,gBAAgB9B,GAAO,EACnC2B,IAEJ,CAEA,SAASI,EAAiBC,EAAK,CAC7B,OAAOA,EACJ,IACC,CAAC,CACC,KAAAC,EACA,IAAAC,EACA,SAAApC,EACA,KAAAqC,EACA,WAAAC,EACA,MAAAC,EACA,eAAgBC,EAChB,IAAAC,CACR,KACYzC,EAAS,SAAS,GAAG,IACvBA,EAAWA,EAAS,MAAM,GAAG,EAAE,KAAK,GAAG,GAGlC;AAAA,6CAC8ByC;AAAA;AAAA,oBAEzBL,WAAaD;AAAA;AAAA,0CAESA;AAAA;AAAA;AAAA,+DAGqBnC;AAAA;AAAA;AAAA,2DAGJqC;AAAA;AAAA;AAAA,iEAGMC;AAAA;AAAA;AAAA;AAAA;AAAA,gDAKjBC;AAAA;AAAA;AAAA,6BAGnBG;AAAAA;AAAAA;AAAAA,MAIvBF,EACI;AAAA,mBACSE;AAAAA,YAET;AAAA;AAAA,IAKL,EACA,KAAK,EAAE,CACZ,CAEA,OAAO,iBAAiB,OAAQC,CAAoB,EACpDpB,EAAU,iBAAiB,QAASqB,CAAkB,EAGtD,SAASA,EAAmB3B,EAAO,CAEjC,MAAM4B,EADS5B,EAAM,OACU,QAAQ,uBAAuB,EAE9D,GAAI4B,EAAiB,CACnB,MAAMC,EAAcD,EAAgB,QAAQ,mBAAmB,EAIzDE,EAAc,CAClB,GAJgBD,EAAY,QAAQ,GAKpC,KAAMA,EAAY,cAAc,0BAA0B,EAAE,YAC5D,MAAOA,EAAY,cAAc,yBAAyB,EAAE,YAC5D,SAAUA,EAAY,QAAQ,SAC9B,IAAKA,EAAY,cAAc,uBAAuB,EAAE,IACxD,KAAMA,EAAY,QAAQ,IAChC,EACIE,EAAUD,EAAaF,CAAe,CACvC,CACH,CAGA,SAASG,EAAUD,EAAaE,EAAQ,CACtC,IAAIC,EAAY,KAAK,MAAM,aAAa,QAAQ,MAAM,CAAC,GAAK,GAG5D,GAFwBA,EAAU,KAAKC,GAAQA,EAAK,KAAOJ,EAAY,EAAE,EAEpD,CAEnB,MAAMK,EAAaH,EAAO,cAAc,iCAAiC,EACzEG,EAAW,aACT,QACA,kDACN,EACIA,EAAW,aAAa,OAAQ,GAAGV,cAAmB,CAC1D,MAEIQ,EAAU,KAAKH,CAAW,EAC1B,aAAa,QAAQ,OAAQ,KAAK,UAAUG,CAAS,CAAC,EACtD,QAAQ,IAAI,wBAAwB,EAEtCP,GACF,CACA,SAASA,GAAuB,CAC9B,MAAMO,EAAY,KAAK,MAAM,aAAa,QAAQ,MAAM,CAAC,GAAK,GACxDG,EAAa,SAAS,cAAc,iBAAiB,EAEvDA,IACFA,EAAW,YAAcH,EAAU,OAEvC,CCrLA,MAAMI,EAAkB,CACtB,QAAS,KACT,SAAU,KACV,KAAM,EACN,MAAO,CACT,EAEMC,EAAO,CAAA,EAEN,SAASC,GAAuB,CACrC,aAAa,QAAQ,WAAY,KAAK,UAAUF,CAAe,CAAC,CAClE,CACO,SAASG,GAAmB,CACjC,aAAa,QAAQ,OAAQ,KAAK,UAAUF,CAAI,CAAC,CACnD,CCdO,MAAMG,EAAsB,SAAS,cAC1C,wBACF,EACoB,SAAS,cAAc,MAAM,ECCjD,SAAS,iBAAiB,mBAAoBC,CAAQ,EACtD,eAAeA,GAAW,CACxB,GAAI,CACF,MAAMhD,EAAS,MAAMiD,IACrB,GAAIjD,IAAW,OAAW,MAAM,IAAI,MAEpCkD,GAAelD,CAAM,CACtB,MAAC,CACAmD,EAAW,CACZ,CACH,CAEA,SAASC,EAAY,CAAE,SAAA/D,EAAU,IAAAoC,EAAK,KAAAD,EAAM,WAAAG,EAAY,KAAAD,EAAM,IAAAI,GAAO,CACnE,MAAO;AAAA,iBACQA;AAAA;AAAA;AAAA;AAAA,aAIJL;AAAA,aACAD;AAAA;AAAA;AAAA;AAAA,yCAI4BA;AAAA;AAAA;AAAA,oDAGWnC;AAAA;AAAA;AAAA;AAAA,wDAIIqC;AAAA;AAAA;AAAA;AAAA,wDAIAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAMrC0B;AAAA;AAAA;AAAA;AAAA,GAKnB,CAEA,eAAeJ,GAAgC,CAC7C,GAAI,CAGF,OAFqB,MAAMzD,KAEP,OAClB,CAACQ,EAAQmC,IAAgBnC,EAASoD,EAAYjB,CAAW,EACzD,EACN,CACG,MAAC,CACAgB,EAAW,CACZ,CACH,CAEA,SAASD,GAAelD,EAAQ,CAC9B+C,EAAoB,mBAAmB,YAAa/C,CAAM,CAC5D,CAEA,SAASmD,GAAU,CACjB,QAAQ,MAAM,SAAU,GAAG,EAC3BJ,EAAoB,UAAY,EAClC,CCpEA,MAAMO,EAAK,SAAS,cAAc,wBAAwB,EAC1D,QAAQ,IAAIA,CAAE,EACd,MAAMC,EAAO,SAAS,cAAc,MAAM,EAC1CD,EAAG,iBAAiB,QAASE,CAAe,EAE5C,MAAMC,EAAO,SAAS,cAAc,gBAAgB,EACpD,QAAQ,IAAIA,CAAI,EAChBA,EAAK,iBAAiB,QAASC,CAAsB,EAErD,eAAeA,EAAuBpD,EAAO,CAC3CmD,EAAK,oBAAoB,QAASC,CAAsB,EAExD,MAAMC,EAAUrD,EAAM,OAAO,QAAQ,mBAAmB,EAExD,GAAIqD,IAAY,MAAQrD,EAAM,OAAO,QAAQ,uBAAuB,EAAG,CACrEmD,EAAK,iBAAiB,QAASC,CAAsB,EACrD,MACD,CACD,QAAQ,IAAIC,CAAO,EAGnB,MAAMC,EAAKD,EAAQ,QAAQ,GAErBE,EAAO,MAAMC,EAAmBF,CAAE,EACxC,QAAQ,IAAIC,CAAI,EAEhBN,EAAK,mBAAmB,YAAaQ,EAAaF,CAAI,CAAC,EAEvDG,GACF,CAEA,eAAeR,EAAgBlD,EAAO,CACpCgD,EAAG,oBAAoB,QAASE,CAAe,EAC/C,MAAMG,EAAUrD,EAAM,OAAO,QAAQ,IAAI,EACzC,GAAIqD,IAAY,MAAQrD,EAAM,OAAO,QAAQ,2BAA2B,EAAG,CACzEgD,EAAG,iBAAiB,QAASE,CAAe,EAC5C,MACD,CAGD,MAAMI,EAAKD,EAAQ,QAAQ,GAErBE,EAAO,MAAMC,EAAmBF,CAAE,EACxC,QAAQ,IAAIC,CAAI,EAEhBN,EAAK,mBAAmB,YAAaQ,EAAaF,CAAI,CAAC,EAEvDG,GACF,CAEA,eAAeF,EAAmBF,EAAI,CACpC,MAAMK,EAAW,mDAEjB,OAAOhF,EACJ,IAAI,GAAGgF,IAAWL,GAAI,EACtB,KAAKM,GACGA,EAAK,IACb,EACA,MAAMhF,GAAS,CACd,MAAM,IAAI,MAAMA,CAAK,CAC3B,CAAK,CACL,CAEA,SAAS6E,EAAaF,EAAM,CAC1B,KAAM,CAAE,KAAArC,EAAM,SAAAnC,EAAU,KAAAqC,EAAM,WAAAC,EAAY,KAAAwC,EAAM,MAAAvC,EAAO,IAAAH,CAAK,EAAGoC,EAC/D,MAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBASUR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAMF5B;AAAA,iBACAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sDAMqCA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAKrCnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAOAqC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wEAMuDC;AAAA;AAAA;AAAA;AAAA;AAAA,WAK7DwC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uCAO4BvC;AAAA;AAAA;AAAA;AAAA,uBAIhByB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAQvB,CA4CA,SAASW,GAAqB,CAC5B,MAAMI,EAAgB,SAAS,cAAc,oBAAoB,EAC3DC,EAAW,SAAS,cAAc,WAAW,EAEnD,SAASC,GAAc,CACrB,MAAMC,EAAQ,SAAS,cAAc,cAAc,EAC/CA,IACFA,EAAM,OAAM,EACZH,EAAc,oBAAoB,QAASE,CAAW,EACtD,SAAS,oBAAoB,UAAWE,CAAS,EACjDH,EAAS,oBAAoB,QAASI,CAAc,EAEvD,CAED,SAASA,EAAenE,EAAO,CACzBA,EAAM,SAAW+D,IAGrBC,IACAD,EAAS,oBAAoB,QAASI,CAAc,EACrD,CAED,SAASD,EAAUlE,EAAO,CACpBA,EAAM,OAAS,WACjBgE,IACA,SAAS,oBAAoB,UAAWE,CAAS,EAEpD,CACDlB,EAAG,iBAAiB,QAASE,CAAe,EAC5CC,EAAK,iBAAiB,QAASC,CAAsB,EAErDU,EAAc,iBAAiB,QAASE,CAAW,EACnDD,EAAS,iBAAiB,QAASI,CAAc,EACjD,SAAS,iBAAiB,UAAWD,CAAS,EAGzC,SAAS,cAAc,cAAc,GACxCjB,EAAK,mBAAmB,YAAaQ,EAAa,IAAI,CAAC,CAE3D,CCrNAlB,IACAC,IAIA5B,EAAmB"}