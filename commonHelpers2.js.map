{"version":3,"file":"commonHelpers2.js","sources":["../src/API.js","../src/js/popular-products.js"],"sourcesContent":["import axios from 'axios'\n\n\n\nexport async function fetchCategories() {\n    const url = 'https://food-boutique.b.goit.study/api/products/categories';\n    try {\n      const res = await axios.get(url);\n      return res.data;\n    } catch (error) {\n      console.error('Помилка під час запиту:', error);\n      return [];\n    }\n  }\n\n \n\n  export async function fetchData({ keyword, category, page, limit }) {\n  const url = 'https://food-boutique.b.goit.study/api/products';\n \n    const response = await axios.get(url, {\n      params: { keyword, category, page, limit },\n    }); \n    return response.data; \n}\n\n//Для примера вида параметра, который будет приходить в fetchData\n// const params = {\n//   keyword: 'Ac',\n//   category: 'Fresh_Produce',\n//   page: 1,\n//   limit: 1,\n// };\n\n// fetchData(params);\nexport async function popularProdact() {\n  const url = 'https://food-boutique.b.goit.study/api/products/popular';\n      const res = await axios.get(url);\n    return res.data;  \n}\n\nexport async function discountProduct() {\n  const url = 'https://food-boutique.b.goit.study/api/products/discount';  \n    const res = await axios.get(url);\n    return res.data;   \n}\n","import { popularProdact } from \"../API.js\";\n\n\n\ndocument.addEventListener(\"DOMContentLoaded\", onReload);\nconst popularList = document.querySelector(`.wrapperPopularProduct`)\nasync function onReload(){\n  try {\n      const markup = await generatePopularCardListMarkup();\n      if(markup === undefined) throw new Error;\n     \n     updateCardList(markup); \n\n  } catch(err) {\n      onError(err);\n  }\n}\n\nasync function generatePopularCardListMarkup(){\n  try {\n     const popularCards = await popularProdact();\n     return popularCards.reduce((markup, productCard) => markup + renderPopularCards(productCard), '')\n    } \n catch(err) {     \n     onError(err);\n }\n}\n\nfunction renderPopularCards({img, name, price, size, popularity}){\n  return `\n  <li class=\"list-item\" data-id=\"\">\n      <img class=\"img-popular\" src=\"${img}\" alt=\"\">     \n          <h3 class=\"popular-title\">${name}</h3>\n          <p class=\"popular-desc\">${price}</p>\n          <p class=\"popular-desc\">${size}</p>\n          <p class=\"popular-desc\">${popularity}</p>       \n  </li>\n  `\n}\nfunction updateCardList(markup){\n  popularList.insertAdjacentHTML('beforeend', markup);\n}\n\nfunction onError(){ \n    console.error('Error:', err);\n    popularList.innerHTML = '';\n   \n}\n"],"names":["popularProdact","url","axios","onReload","popularList","markup","generatePopularCardListMarkup","updateCardList","onError","productCard","renderPopularCards","img","name","price","size","popularity"],"mappings":"oFAmCO,eAAeA,GAAiB,CACrC,MAAMC,EAAM,0DAEV,OADc,MAAMC,EAAM,IAAID,CAAG,GACtB,IACf,CCnCA,SAAS,iBAAiB,mBAAoBE,CAAQ,EACtD,MAAMC,EAAc,SAAS,cAAc,wBAAwB,EACnE,eAAeD,GAAU,CACvB,GAAI,CACA,MAAME,EAAS,MAAMC,IACrB,GAAGD,IAAW,OAAW,MAAM,IAAI,MAEpCE,EAAeF,CAAM,CAEvB,MAAC,CACEG,EAAW,CACd,CACH,CAEA,eAAeF,GAA+B,CAC5C,GAAI,CAED,OADqB,MAAMN,KACP,OAAO,CAACK,EAAQI,IAAgBJ,EAASK,EAAmBD,CAAW,EAAG,EAAE,CAChG,MACJ,CACID,EAAW,CACd,CACF,CAEA,SAASE,EAAmB,CAAC,IAAAC,EAAK,KAAAC,EAAM,MAAAC,EAAO,KAAAC,EAAM,WAAAC,CAAU,EAAE,CAC/D,MAAO;AAAA;AAAA,sCAE6BJ;AAAA,sCACAC;AAAA,oCACFC;AAAA,oCACAC;AAAA,oCACAC;AAAA;AAAA,GAGpC,CACA,SAASR,EAAeF,EAAO,CAC7BD,EAAY,mBAAmB,YAAaC,CAAM,CACpD,CAEA,SAASG,GAAS,CACd,QAAQ,MAAM,SAAU,GAAG,EAC3BJ,EAAY,UAAY,EAE5B"}