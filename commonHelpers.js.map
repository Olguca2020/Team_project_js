{"version":3,"file":"commonHelpers.js","sources":["../src/img/yellow-shopping-basket@1x.png","../src/img/yellow-shopping-basket@2x.png","../src/js/empty-basket.js","../src/js/cart-quantity.js","../src/js/cart-delete-all.js","../src/js/cartTotalPrice.js","../src/img/sptite.svg","../src/js/basket-markup.js","../src/js/cart-remove-item.js","../src/cart.js"],"sourcesContent":["export default \"__VITE_ASSET__4adc10f8__\"","export default \"__VITE_ASSET__555eb6bd__\"","import basket from '../img/yellow-shopping-basket@1x.png';\nimport basket2x from '../img/yellow-shopping-basket@2x.png';\n\nexport const emptyCartMarkup = `\n    <picture class=\"empty-basket\">\n        <source srcset=\"${basket} 1x, ${basket2x} 2x\" />\n        <img src=\"${basket}\" alt=\"basket\" class=\"basket-empty-img\"/>\n    </picture>\n    <h3 class=\"empty-basket-title\">\n        Your basket is\n        <span class=\"empty-basket-span\">empty...</span>\n    </h3>\n    <p class=\"empty-basket-text\">\n        Go to the main page to select your favorite products and add them to the cart.\n    </p>\n`;","export function changeQuantity() {\n    const quantity = document.querySelector('.js-cart-info');\n    const USER_CART = JSON.parse(localStorage.getItem('cart'));\n\n    if (!!quantity) {\n        quantity.textContent = USER_CART.length;\n    }\n    \n};","import { renderCart } from '../cart';\nimport {changeQuantity} from './cart-quantity'\n\nexport function cartDeleteAll() {\n    const deleteAllBtn = document.querySelector('.cart-delete-all-btn');\n\n    if (deleteAllBtn) {\n        const callBack = () => {\n            localStorage.setItem('cart', '[]');\n            changeQuantity();\n            renderCart([]);\n\n            deleteAllBtn.removeEventListener('click', callBack);\n        };\n\n        deleteAllBtn.addEventListener('click', callBack);\n    };\n};","export function cartTotalPrice(data) {\n    let total = 0;\n    for (const item of data) {\n        total += item.price;\n    }\n    return total.toFixed(2);\n};","export default \"__VITE_ASSET__f56cee6f__\"","import { cartTotalPrice } from './cartTotalPrice';\nimport icons from '../img/sptite.svg';\n\nexport function basketMarkup(USER_CART) {\n    const cart = `\n        <div class=\"cart-with-items-container\">\n        \n            <div class=\"cart-delete-all\">\n                <p class=\"cart-delete-all-text\">Delete all</p>\n                <button type=\"button\" class=\"cart-delete-all-btn\">\n                    <svg class=\"delete-all-icon-svg\">\n                        <use href=\"${icons}#icon-close\"></use>\n                    </svg>\n                </button>\n            </div>\n\n            <ul class=\"cart-with-items-list\">\n            ${USER_CART.map(\n                ({ category, img, name, price, size, _id }) => `\n                <li class=\"cart-product-list\" data-cart-product-id=${_id}>\n                    <div class=\"cart-product-img-container\">\n                        <img class=\"cart-product-img\" src=${img} alt=${name}/>\n                    </div>\n                    <div class=\"cart-product-list-description\">\n                    <div class=\"cart-product-list-info\">\n                        <p class=\"cart-product-name\">${name}</p>\n                        <div class=\"cart-product-features\">\n                            <p class=\"cart-product-category\">Category: <span class=\"cart-product-category-span\">${category.replace(/_/g, ' ')}</span></p>\n                            <p class=\"cart-product-size\">Size: <span class=\"cart-product-size-span\">${size}</span></p>\n                        </div>\n                        <p class=\"cart-product-info-price\">$${price}</p>\n                    </div>\n                    <div class=\"cart-product-list-remove\">\n                        <button class=\"cart-product-remove-btn\" type=\"button\" data-remove=${_id}>\n                        <svg class=\"cart-product-remove-svg\" data-remove=${_id}>\n                            <use href=\"${icons}#icon-close\" data-remove=${_id}></use>\n                        </svg>\n                        </button>\n                    </div>\n                </div>\n                </li>\n                `\n            ).join('')}\n            </ul>\n\n        </div>\n        <div class=\"cart-order-container\">\n                <h2 class=\"cart-order-title\">Your Order</h2>\n                <div class=\"cart-order-total\">\n                    <p class=\"cart-order-text-total\">Total</p>\n                    <div class=\"cart-order-sum-container\">\n                        <p class=\"cart-order-sum\">\n                            <span class=\"cart-order-text-sum\">\n                            Sum:\n                            </span>\n                            $${cartTotalPrice(USER_CART)}\n                            </p>\n                    </div>\n                </div>\n                <form class=\"cart-form-order-input\">\n                    <input type=\"email\" name=\"user-email\" id=\"user-email\" class=\"cart-form-order-mail-input\" placeholder=\"Enter your email\" pattern=\"[_\\-a-zA-Z0-9\\.\\+]+@[a-zA-Z0-9](\\.?[\\-a-zA-Z0-9]*[a-zA-Z0-9])*\" required/>\n                    <button type=\"submit\" class=\"cart-form-btn\">Checkout</button>\n                </form>\n            </div>\n    `;\n    return cart\n};","import { renderCart } from '../cart.js';\n\nconst cart = document.querySelector('.js-basket');\n\nexport function cartRemoveItem(data) {\n    cart.addEventListener('click', e => {\n        const updatedCart = data.filter(\n            item => item._id !== e.target.dataset.remove\n        );\n\n        localStorage.setItem('cart', JSON.stringify(updatedCart));\n        renderCart(updatedCart);\n    });\n\n};","import { emptyCartMarkup } from './js/empty-basket';\nimport { cartDeleteAll } from './js/cart-delete-all';\nimport { basketMarkup } from './js/basket-markup';\nimport { changeQuantity } from './js/cart-quantity';\nimport { cartRemoveItem } from './js/cart-remove-item';\n\nconst cart = document.querySelector('.js-basket');\n\n// const data = [\n//     {\n//       \"_id\": \"640c2dd963a319ea671e383b\",\n//       \"name\": \"Ackee\",\n//       \"img\": \"https://ftp.goit.study/img/so-yummy/ingredients/640c2dd963a319ea671e383b.png\",\n//       \"category\": \"Fresh_Produce\",\n//       \"price\": 8.99,\n//       \"size\": \"16 oz\",\n//       \"is10PercentOff\": false,\n//       \"popularity\": 0\n//     },\n//     {\n//       \"_id\": \"640c2dd963a319ea671e3864\",\n//       \"name\": \"Black Beans\",\n//       \"img\": \"https://ftp.goit.study/img/so-yummy/ingredients/640c2dd963a319ea671e3864.png\",\n//       \"category\": \"Pantry_Items\",\n//       \"price\": 1.99,\n//       \"size\": \"16oz\",\n//       \"is10PercentOff\": false,\n//       \"popularity\": 0\n//     },\n//     {\n//       \"_id\": \"640c2dd963a319ea671e37ad\",\n//       \"name\": \"Black Olives\",\n//       \"img\": \"https://ftp.goit.study/img/so-yummy/ingredients/640c2dd963a319ea671e37ad.png\",\n//       \"category\": \"Fresh_Produce\",\n//       \"price\": 3.99,\n//       \"size\": \"1 jar (16 oz)\",\n//       \"is10PercentOff\": false,\n//       \"popularity\": 0\n//     },\n//     {\n//       \"_id\": \"640c2dd963a319ea671e37a\",\n//       \"name\": \"Black Olives\",\n//       \"img\": \"https://ftp.goit.study/img/so-yummy/ingredients/640c2dd963a319ea671e37ad.png\",\n//       \"category\": \"Fresh_Produce\",\n//       \"price\": 3.99,\n//       \"size\": \"1 jar (16 oz)\",\n//       \"is10PercentOff\": false,\n//       \"popularity\": 0\n//     }\n// ]\n  \n// localStorage.setItem('cart',JSON.stringify(data)) \n\nconst USER_CART = JSON.parse(localStorage.getItem('cart'));\n// const USER_CART = [];\n\nexport function renderCart(data) {\n    changeQuantity();\n    if (data.length === 0) {\n        cart.innerHTML = emptyCartMarkup;\n    } else {\n        cart.innerHTML = basketMarkup(data);\n    };\n  cartDeleteAll();\n  cartRemoveItem(data);\n};\n\nrenderCart(USER_CART);"],"names":["basket","basket2x","emptyCartMarkup","changeQuantity","quantity","USER_CART","cartDeleteAll","deleteAllBtn","callBack","renderCart","cartTotalPrice","data","total","item","icons","basketMarkup","category","img","name","price","size","_id","cart","cartRemoveItem","updatedCart"],"mappings":"oCAAA,MAAeA,EAAA,wECAAC,EAAA,wECGFC,EAAkB;AAAA;AAAA,0BAELF,SAAcC;AAAA,oBACpBD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,ECNb,SAASG,GAAiB,CAC7B,MAAMC,EAAW,SAAS,cAAc,eAAe,EACjDC,EAAY,KAAK,MAAM,aAAa,QAAQ,MAAM,CAAC,EAEnDD,IACFA,EAAS,YAAcC,EAAU,OAGzC,CCLO,SAASC,GAAgB,CAC5B,MAAMC,EAAe,SAAS,cAAc,sBAAsB,EAElE,GAAIA,EAAc,CACd,MAAMC,EAAW,IAAM,CACnB,aAAa,QAAQ,OAAQ,IAAI,EACjCL,IACAM,EAAW,CAAE,CAAA,EAEbF,EAAa,oBAAoB,QAASC,CAAQ,CAC9D,EAEQD,EAAa,iBAAiB,QAASC,CAAQ,CAEvD,CAAA,CCjBO,SAASE,EAAeC,EAAM,CACjC,IAAIC,EAAQ,EACZ,UAAWC,KAAQF,EACfC,GAASC,EAAK,MAElB,OAAOD,EAAM,QAAQ,CAAC,CAC1B,CCNA,MAAeE,EAAA,qDCGR,SAASC,EAAaV,EAAW,CA8DpC,MA7Da;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCAOoBS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAMvBT,EAAU,IACR,CAAC,CAAE,SAAAW,EAAU,IAAAC,EAAK,KAAAC,EAAM,MAAAC,EAAO,KAAAC,EAAM,IAAAC,CAAG,IAAO;AAAA,qEACMA;AAAA;AAAA,4DAETJ,SAAWC;AAAA;AAAA;AAAA;AAAA,uDAIhBA;AAAA;AAAA,kHAE2DF,EAAS,QAAQ,KAAM,GAAG;AAAA,sGACtCI;AAAA;AAAA,8DAExCD;AAAA;AAAA;AAAA,4FAG8BE;AAAA,2EACjBA;AAAA,yCAClCP,6BAAiCO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAO1E,EAAc,KAAK,EAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAaUX,EAAeL,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAWvD,CChEA,MAAMiB,EAAO,SAAS,cAAc,YAAY,EAEzC,SAASC,EAAeZ,EAAM,CACjCW,EAAK,iBAAiB,QAAS,GAAK,CAChC,MAAME,EAAcb,EAAK,OACrBE,GAAQA,EAAK,MAAQ,EAAE,OAAO,QAAQ,MAClD,EAEQ,aAAa,QAAQ,OAAQ,KAAK,UAAUW,CAAW,CAAC,EACxDf,EAAWe,CAAW,CAC9B,CAAK,CAEL,CCRA,MAAMF,EAAO,SAAS,cAAc,YAAY,EA+C1CjB,EAAY,KAAK,MAAM,aAAa,QAAQ,MAAM,CAAC,EAGlD,SAASI,EAAWE,EAAM,CAC7BR,IACIQ,EAAK,SAAW,EAChBW,EAAK,UAAYpB,EAEjBoB,EAAK,UAAYP,EAAaJ,CAAI,EAExCL,EAAa,EACbiB,EAAeZ,CAAI,CACrB,CAEAF,EAAWJ,CAAS"}